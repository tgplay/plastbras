/*!
 impleCode Shopping Cart
 (c) 2021 impleCode - https://implecode.com
 */
jQuery(document).ready(function(){jQuery(".product-entry #product_details .variation_select").on("change",function(){var e=jQuery(this);var i=e.attr("name");var a=e.val();if(a!==""){var r=jQuery('input[name="current_product"]').val();if(!r){r=e.data("product_id")}var t=i.substr(0,i.indexOf("_"));jQuery("form.add-to-shopping-cart input[name="+i+"]").val(a);var n={};var c=1;var o=e.data("var_num");var d=e.find("option:selected").data("var_lp");jQuery(".product-entry #product_details .variation_select").each(function(){var e=jQuery(this);if(o===1){e.find("option:disabled").each(function(){jQuery(this).attr("disabled",false)})}var i=e.val();var a=e.attr("name");if(i==""){i="not_selected";c=0}n[a]=i});if(c===1){jQuery(".variable-single-price-effect .price-container, .variable-single-price-effect .shipping-table-container, .variable-single-price-effect .sku-table").fadeTo("slow",0);e.next(".ic_spinner").show().css("display","inline-block");var s=jQuery.ic.applyFilters("ic_variation_details_fields",["shipping","in_cart","price","sku","size","weight","image"]);jQuery.when(ic_get_variation_details(s,n,r,t,d)).done(function(e){e=JSON.parse(e);if(e===null){return false}if(e[2]!==""&&e[2]!==undefined){jQuery(".variable-price-effect td.price-value").first().text(e[2])}jQuery(".variable-price-effect .price-container").fadeIn();if(e[1]==="1"){jQuery(".cart_info").hide();jQuery("form.add-to-shopping-cart button").hide();jQuery("form.add-to-shopping-cart input[name='current_quantity']").hide();jQuery("form.add-to-shopping-cart .cart-added-info").show().css("display","block")}else{jQuery(".cart_info").show();jQuery("form.add-to-shopping-cart button").fadeIn();jQuery("form.add-to-shopping-cart input[name='current_quantity']").fadeIn();jQuery("form.add-to-shopping-cart .cart-added-info").hide()}if(jQuery(".variable-price-effect .shipping-table-container").length){jQuery(".variable-price-effect .shipping-table-container").replaceWith(e[0])}else{jQuery(".variable-price-effect #product_details").append(e[0])}jQuery(".variable-price-effect .shipping-table-container").show();jQuery(".variable-price-effect .price-container, .variable-price-effect .shipping-table-container, .variable-price-effect .sku-table").fadeTo("slow",1);jQuery.ic.doAction("ic_update_variation_details",e);jQuery(".variations-container .ic_spinner").hide()})}else if(jQuery("article.al_product").hasClass("variable-single-price-effect")){jQuery(".price-container").fadeTo("fast",0);jQuery(".shipping-table-container").fadeTo("fast",0);jQuery(".sku-table").fadeTo("fast",0)}}else if(jQuery("article.al_product").hasClass("variable-single-price-effect")){jQuery(".price-container").fadeTo("fast",0);jQuery(".shipping-table-container").fadeTo("fast",0);jQuery(".sku-table").fadeTo("fast",0)}var u={action:"modify_variations_price",selected_variation:n,product_id:r,variation_id:t};jQuery(".product-entry #product_details .variation_select").trigger("variation_select",u)});jQuery(".product-entry #product_details .variation_select").each(function(){jQuery(this).trigger("change")});jQuery(document).on("change",".cart-products .variation_select",function(){var e=jQuery(this);e.closest("tr").find(".edit-product-quantity").trigger("change")})});function ic_get_variation_details(e,i,a,r,t){var n={action:"get_viariation_details",selected_variation:i,selected_variation_lp:t,product_id:a,variation_id:r,variation_field:e};return jQuery.post(product_object.ajaxurl,n)}